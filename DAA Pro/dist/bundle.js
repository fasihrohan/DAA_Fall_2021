"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var Coordinate=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._x=n,this._y=t}return _createClass(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this._y=e}}]),e}(),NQueens=function(){function e(){_classCallCheck(this,e),this._positions=[],this.oneSolution=this.oneSolution.bind(this),this.oneSolutionUtil=this.oneSolutionUtil.bind(this),this.allSolutions=this.allSolutions.bind(this),this.allSolutionsUtil=this.allSolutionsUtil.bind(this)}return _createClass(e,[{key:"oneSolution",value:function(e){this.oneSolutionUtil(e,0,this._positions);return this._positions}},{key:"oneSolutionUtil",value:function(e,n,t){if(e===n)return!0;for(var i=0;i<e;i++){for(var o=!0,r=0;r<n;r++)if(t[r].y===i||t[r].x-t[r].y==n-i||t[r].x+t[r].y===n+i){o=!1;break}if(o&&(t[n]=new Coordinate(n,i),this.oneSolutionUtil(e,n+1,t)))return!0}return!1}},{key:"allSolutions",value:function(e){var n=[];return this.allSolutionsUtil(0,this._positions,n,e),n}},{key:"allSolutionsUtil",value:function(e,n,t,i){if(i===e){var o=[],r=[];return n.map(function(e,n){for(var t=0;t<i;t++)e.y===t?o.push("ðŸ‘‘ "):n%2?o.push(t%2?"â¬œ ":"â¬› "):o.push(t%2?"â¬› ":"â¬œ ");r.push(o.join("")),o=[]}),void t.push(r)}for(var s=0;s<i;s++){for(var a=!0,l=0;l<e;l++)if(n[l].y===s||n[l].y-n[l].x==s-e||n[l].y+n[l].x===s+e){a=!1;break}a&&(n[e]=new Coordinate(e,s),this.allSolutionsUtil(e+1,n,t,i))}}},{key:"positions",get:function(){return this._positions},set:function(e){this._positions=e}}]),e}(),Board=function(){function e(n,t){_classCallCheck(this,e),this.container=document.querySelector(".n-queens__wrapper"),this._size=n,this._coords=t,this.paint=this.paint.bind(this)}return _createClass(e,[{key:"paint",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.container.innerHTML="",1===n)for(var t=0,i="";t<this._size;t++,i=""){for(var o=0;o<this._size;o++)t%2?this._coords[t].x===t&&this._coords[t].y===o?i+="ðŸ‘‘ ":i+=o%2?"â¬œ ":"â¬› ":this._coords[t].x===t&&this._coords[t].y===o?i+="ðŸ‘‘ ":i+=o%2?"â¬› ":"â¬œ ";this.container.innerHTML+='<p class="no-margin">'.concat(i,"</p>")}else console.log(this._coords),this._coords.map(function(n){n.map(function(n){e.container.innerHTML+='<p class="no-margin">'.concat(n,"</p>")}),e.container.innerHTML+="<br>"})}},{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"coords",get:function(){return this._coords},set:function(e){this._coords=e}}]),e}();!function(e,n){var t=n.querySelector("form"),i=n.querySelector("input"),o=n.querySelector("input[type=checkbox]"),r=(n.querySelector(".n-queens__wrapper"),n.querySelector(".modal")),s=n.querySelector(".btn-close"),a=n.querySelector(".time--solve"),l=n.querySelector(".time--paint");s.onclick=function(){return r.style.visibility="hidden"},e.onclick=function(e){e.target==r&&(r.style.visibility="hidden")};var c=function(n){n.preventDefault();var t=Number(i.value);if(2===t||3===t||t>8&&o.checked)return void(r.style.visibility="visible");var s,c=new NQueens,u=e.performance.now();if(o.checked){var f=c.allSolutions(t);s=e.performance.now();new Board(t,f).paint(t)}else{var h=c.oneSolution(t);s=e.performance.now();new Board(t,h).paint()}var p=e.performance.now();a.innerHTML="".concat(s-u," ms"),l.innerHTML="".concat(p-u," ms")};t.addEventListener("submit",c)}(window,document);